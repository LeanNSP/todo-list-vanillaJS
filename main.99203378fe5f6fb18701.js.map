{"version":3,"sources":["webpack:///./js/helpers/refs.js","webpack:///./js/services/createTask.js","webpack:///./js/helpers/config.js","webpack:///./js/services/getRefCurrentToDo.js","webpack:///./js/services/currentToDo.js","webpack:///./js/services/iconsToggle.js","webpack:///./js/handlers/taskButtons/getButtonAction.js","webpack:///./js/templates/templateCheckboxAndDate.js","webpack:///./js/helpers/icons.js","webpack:///./js/templates/templateButtons.js","webpack:///./js/templates/templateToDo.js","webpack:///./js/view.js","webpack:///./js/validators/descriptionValidator.js","webpack:///./js/handlers/taskButtons/taskButtonsOperations.js","webpack:///./js/handlers/taskButtons/taskButtonsReducer.js","webpack:///./js/services/isNotSaved.js","webpack:///./js/services/localStorage.js","webpack:///./js/model.js","webpack:///./js/handlers/checkboxClickHandler.js","webpack:///./js/handlers/taskButtonsClickHandler.js","webpack:///./js/controller.js","webpack:///./index.js"],"names":["refs","addButtonTop","document","getElementById","addButton","statement","querySelector","todoList","scopeCounter","activeCounter","successfulCounter","idGenerator","tasks","length","id","createTask","date","Date","toLocaleDateString","day","month","year","describtion","isChecked","getRefCurrentToDo","target","element","tagName","parentNode","INIT_REFS","toDo","buttonEdit","iconEdit","iconSave","description","currentToDo","setIdAndRefs","this","parseInt","getId","getRefs","getToDo","getDescription","isEmpty","Boolean","iconsToggle","hide","show","classList","add","remove","getButtonAction","dataset","action","templateCheckboxAndDate","icons","templateButtons","templateToDo","task","view","renderStatement","renderToDoList","list","innerHTML","textContent","renderCounters","controller","calcCounters","scope","successful","active","renderTask","newTask","insertAdjacentHTML","removeToDo","refToDo","onChecked","toggle","editToDo","setAttribute","focus","onfocus","saveToDo","descriptionValidator","newDescription","alert","split","some","word","taskButtonsOperations","removeTask","model","editTaskDescription","saveTaskDescription","updateDescription","taskButtonsReducer","isNotSaved","checked","onCurrentToDo","onSaveButton","localStorage","getTasks","JSON","parse","window","getItem","error","saveTasks","setItem","stringify","addTask","filter","updateChecked","map","checkboxClickHandler","taskButtonsClickHandler","hideStatement","DocumentFragment","prepend","onClickToDoList","addEventListener"],"mappings":"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","file":"main.99203378fe5f6fb18701.js","sourcesContent":["'use strict';\r\n\r\nexport const refs = {\r\n  addButtonTop: document.getElementById('add-task-top'),\r\n  addButton: document.getElementById('add-task'),\r\n  // basic content\r\n  statement: document.querySelector('.statement'),\r\n  todoList: document.querySelector('.todo-list'),\r\n  // counters\r\n  scopeCounter: document.getElementById('scope'),\r\n  activeCounter: document.getElementById('active'),\r\n  successfulCounter: document.getElementById('successful'),\r\n};\r\n","'use strict';\r\n\r\nimport { TO_DO_PLACEHOLDER } from '../helpers/config';\r\n\r\nconst idGenerator = tasks => {\r\n  if (!tasks.length) {\r\n    return 1;\r\n  }\r\n\r\n  const lastId = tasks[tasks.length - 1].id;\r\n\r\n  return lastId + 1;\r\n};\r\n\r\nconst createTask = tasks => {\r\n  const date = new Date();\r\n  const options = { day: 'numeric', month: 'short', year: 'numeric' };\r\n\r\n  return {\r\n    id: idGenerator(tasks),\r\n    date: date.toLocaleDateString('en-GB', options),\r\n    describtion: TO_DO_PLACEHOLDER,\r\n    isChecked: false,\r\n  };\r\n};\r\n\r\nexport default createTask;\r\n","'use strict';\r\n\r\nexport const TO_DO_PLACEHOLDER = 'Click edit and describe your task, please.';\r\nexport const MIN_DESCRIPTION = 3;\r\nexport const MAX_DESCRIPTION = 450;\r\nexport const LONG_WORD = 25; // maximum word length with a screen width of 320px\r\n","'use strict';\r\n\r\nconst getRefCurrentToDo = target => {\r\n  let element = target;\r\n\r\n  while (element.tagName) {\r\n    if (element.tagName === 'LI') {\r\n      return element;\r\n    }\r\n\r\n    element = element.parentNode;\r\n  }\r\n};\r\n\r\nexport default getRefCurrentToDo;\r\n","'use strict';\r\n\r\nimport getRefCurrentToDo from './getRefCurrentToDo';\r\n\r\nconst INIT_REFS = {\r\n  toDo: null,\r\n  buttonEdit: null,\r\n  iconEdit: null,\r\n  iconSave: null,\r\n  description: null,\r\n};\r\n\r\nconst currentToDo = {\r\n  id: null,\r\n  refs: { ...INIT_REFS },\r\n\r\n  setIdAndRefs(target) {\r\n    const toDo = getRefCurrentToDo(target);\r\n\r\n    if (toDo) {\r\n      this.id = parseInt(toDo.id);\r\n      this.refs.toDo = toDo;\r\n      this.refs.buttonEdit = toDo.querySelector('.task__edit');\r\n      this.refs.iconEdit = toDo.querySelector('svg[data-action=\"edit\"]');\r\n      this.refs.iconSave = toDo.querySelector('svg[data-action=\"save\"]');\r\n      this.refs.description = toDo.querySelector('.task__description');\r\n    } else {\r\n      this.id = null;\r\n      this.refs = { ...INIT_REFS };\r\n    }\r\n  },\r\n\r\n  getId() {\r\n    return this.id;\r\n  },\r\n\r\n  getRefs() {\r\n    return this.refs;\r\n  },\r\n\r\n  getToDo() {\r\n    return this.refs.toDo;\r\n  },\r\n\r\n  getDescription() {\r\n    return this.refs.description;\r\n  },\r\n\r\n  isEmpty() {\r\n    return !Boolean(this.id);\r\n  },\r\n};\r\n\r\nexport default currentToDo;\r\n","'use strict';\r\n\r\nconst iconsToggle = (hide, show) => {\r\n  hide.classList.add('hidden');\r\n  show.classList.remove('hidden');\r\n};\r\n\r\nexport default iconsToggle;\r\n","'use strict';\r\n\r\nconst getButtonAction = target => {\r\n  const { tagName } = target;\r\n  let currentButton;\r\n\r\n  if (tagName === 'use') {\r\n    currentButton = target.parentNode.parentNode;\r\n    return currentButton.dataset.action;\r\n  }\r\n\r\n  if (tagName === 'svg') {\r\n    currentButton = target.parentNode;\r\n    return currentButton.dataset.action;\r\n  }\r\n};\r\n\r\nexport default getButtonAction;\r\n","'use strict';\r\n\r\nconst templateCheckboxAndDate = (date, isChecked) => {\r\n  const checked = isChecked ? 'checked' : '';\r\n\r\n  return `<div>\r\n            <label class=\"task__container-checkbox\">\r\n                <input class=\"task__checkbox\" type=\"checkbox\" ${checked}>\r\n                <span class=\"task__custom-checkbox\"></span>\r\n            </label>\r\n            <span class=\"task__date\">${date}</span>\r\n        </div>`;\r\n};\r\n\r\nexport default templateCheckboxAndDate;\r\n","'use strict';\r\n\r\nexport const icons = {\r\n  edit: `<svg data-action=\"edit\" width=\"18\" height=\"18\">\r\n              <use xlink:href=\"data:image/svg+xml;base64,PHN2ZyBkaXNwbGF5PSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KICAgIDxzeW1ib2wgaWQ9Imljb24tcGx1cyIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICAgICAgPHBhdGggZD0iTTExIDExdi0xMWgzdjExaDExdjNoLTExdjExaC0zdi0xMWgtMTF2LTNoMTF6Ii8+DQogICAgPC9zeW1ib2w+DQogICAgPHN5bWJvbCBpZD0iaWNvbi1vayIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICAgICAgPHBhdGggZD0iTTkgMjEuMDM1bC05LTguNjM4IDIuNzkxLTIuODcgNi4xNTYgNS44NzQgMTIuMjEtMTIu NDM2IDIuODQzIDIuODE3eiIvPg0KICAgIDwvc3ltYm9sPg0KICAgIDxzeW1ib2wgaWQ9Imljb24tZWRpdCIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICAgICAgPHBhdGggZD0iTTE4IDE0LjQ1djYuNTVoLTE2di0xMmg2Ljc0M2wxLjk3OC0yaC0xMC43MjF2MTZoMjB2LTEwLjU3M2wtMiAyLjAyM3ptMS40NzMtMTAuNjE1bDEuNzA3IDEuNzA3LTkuMjgxIDkuMzc4LTIuMjMuNDcyLjUxMi0yLjE2OSA5LjI5Mi05LjM4OHptLS4wMDgtMi44MzVsLTExLjEwNCAxMS4yMTYtMS4zNjEgNS43ODQgNS44OTgtMS4yNDggMTEuMTAzLTExLjIxOC00LjUzNi00LjUzNHoiLz4NCiAgICA8L3N5bWJvbD4NCiAgICA8c3ltYm9sIGlkPSJpY29uLXRyYXNoX2NhbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICAgICAgPHBhdGggZD0iTTE5IDI0aC0xNGMtMS4xMDQgMC0yLS44OTYtMi0ydi0xN2gtMXYtMmg2di0xLjVjMC0uODI3LjY3My0xLjUgMS41LTEuNWg1Yy44MjUgMCAxLjUuNjcxIDEuNSAxLjV2MS41aDZ2MmgtMXYxN2MwIDEuMTA0LS44OTYgMi0yIDJ6bTAtMTloLTE0djE2LjVjMCAuMjc2LjIyNC41LjUuNWgxM2MuMjc2IDAgLjUtLjIyNC41LS41di0xNi41em0tOSA0YzAtLjU1Mi0uNDQ4LTEtMS0xcy0xIC40NDgtMSAxdjljMCAuNTUyLjQ0OCAxIDEgMXMxLS40NDggMS0xdi05em02IDBjMC0uNTUyLS40NDgtMS0xLTFzLTEgLjQ0OC0xIDF2OWMwIC41NTIuNDQ4IDEgMSAxczEtLjQ0OCAxLTF2LTl6bS0yLTdoLTR2MWg0di0xeiIvPg0KICAgIDwvc3ltYm9sPg0KPC9zdmc+#icon-edit\"></use>\r\n          </svg>`,\r\n  save: `<svg class=\"hidden\" data-action=\"save\" width=\"18\" height=\"18\">\r\n              <use xlink:href=\"data:image/svg+xml;base64,PHN2ZyBkaXNwbGF5PSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KICAgIDxzeW1ib2wgaWQ9Imljb24tcGx1cyIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICAgICAgPHBhdGggZD0iTTExIDExdi0xMWgzdjExaDExdjNoLTExdjExaC0zdi0xMWgtMTF2LTNoMTF6Ii8+DQogICAgPC9zeW1ib2w+DQogICAgPHN5bWJvbCBpZD0iaWNvbi1vayIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICAgICAgPHBhdGggZD0iTTkgMjEuMDM1bC05LTguNjM4IDIuNzkxLTIuODcgNi4xNTYgNS44NzQgMTIuMjEtMTIuNDM2IDIuODQzIDIuODE3eiIvPg0KICAgIDwvc3ltYm9sPg0KICAgIDxzeW1ib2wgaWQ9Imljb24tZWRpdCIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICAgICAgPHBhdGggZD0iTTE4IDE0LjQ1djYuNTVoLTE2di0xMmg2Ljc0M2wxLjk3OC0yaC0xMC43MjF2MTZoMjB2LTEwLjU3M2wtMiAyLjAyM3ptMS40NzMtMTAuNjE1bDEuNzA3IDEuNzA3LTkuMjgxIDkuMzc4LTIuMjMuNDcyLjUxMi0yLjE2OSA5LjI5Mi05LjM4OHptLS4wMDgtMi44MzVsLTExLjEwNCAxMS4yMTYtMS4zNjEgNS43ODQgNS44OTgtMS4yNDggMTEuMTAzLTExLjIxOC00LjUzNi00LjUzNHoiLz4NCiAgICA8L3N5bWJvbD4NCiAgICA8c3ltYm9sIGlkPSJpY29uLXRyYXNoX2NhbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICAgICAgPHBhdGggZD0iTTE5IDI0aC0xNGMtMS4xMDQgMC0yLS44OTYtMi0ydi0xN2gtMXYtMmg2di0xLjVjMC0uODI3LjY3My0xLjUgMS41LTEuNWg1Yy44MjUgMCAxLjUuNjcxIDEuNSAxLjV2MS41aDZ2MmgtMXYxN2MwIDEuMTA0LS44OTYgMi0yIDJ6bTAtMTloLTE0djE2LjVjMCAuMjc2LjIyNC41LjUuNWgxM2MuMjc2IDAgLjUtLjIyNC41LS41di0xNi41em0tOSA0YzAtLjU1Mi0uNDQ4LTEtMS0xcy0xIC40NDgtMSAxdjljMCAuNTUyLjQ0OCAxIDEgMXMxLS40NDggMS0xdi05em02IDBjMC0uNTUyLS40NDgtMS0xLTFzLTEgLjQ0OC0xIDF2OWMwIC41NTIuNDQ4IDEgMSAxczEtLjQ0OCAxLTF2LTl6bS0yLTdoLTR2MWg0di0xeiIvPg0KICAgIDwvc3ltYm9sPg0KPC9zdmc+#icon-ok\"</use>\r\n          </svg>`,\r\n  remove: `<svg  width=\"18\" height=\"18\">\r\n              <use xlink:href=\"data:image/svg+xml;base64,PHN2ZyBkaXNwbGF5PSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KICAgIDxzeW1ib2wgaWQ9Imljb24tcGx1cyIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICAgICAgPHBhdGggZD0iTTExIDExdi0xMWgzdjExaDExdjNoLTExdjExaC0zdi0xMWgtMTF2LTNoMTF6Ii8+DQogICAgPC9zeW1ib2w+DQogICAgPHN5bWJvbCBpZD0iaWNvbi1vayIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICAgICAgPHBhdGggZD0iTTkgMjEuMDM1bC05LTguNjM4IDIuNzkxLTIuODcgNi4xNTYgNS44NzQgMTIuMjEtMTIuNDM2IDIuODQzIDIuODE3eiIvPg0KICAgIDwvc3ltYm9sPg0KICAgIDxzeW1ib2wgaWQ9Imljb24tZWRpdCIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICAgICAgPHBhdGggZD0iTTE4IDE0LjQ1djYuNTVoLTE2di0xMmg2Ljc0M2wxLjk3OC0yaC0xMC43MjF2MTZoMjB2LTEwLjU3M2wtMiAyLjAyM3ptMS40NzMtMTAuNjE1bDEuNzA3IDEuNzA3LTkuMjgxIDkuMzc4LTIuMjMuNDcyLjUxMi0yLjE2OSA5LjI5Mi05LjM4OHptLS4wMDgtMi44MzVsLTExLjEwNCAxMS4yMTYtMS4zNjEgNS43ODQgNS44OTgtMS4yNDggMTEuMTAzLTExLjIxOC00LjUzNi00LjUzNHoiLz4NCiAgICA8L3N5bWJvbD4NCiAgICA8c3ltYm9sIGlkPSJpY29uLXRyYXNoX2NhbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICAgICAgPHBhdGggZD0iTTE5IDI0aC0xNGMtMS4xMDQgMC0yLS44OTYtMi0ydi0xN2gtMXYtMmg2di0xLjVjMC0uODI3LjY3My0xLjUgMS41LTEuNWg1Yy44MjUgMCAxLjUuNjcxIDEuNSAxLjV2MS41aDZ2MmgtMXYxN2MwIDEuMTA0LS44OTYgMi0yIDJ6bTAtMTloLTE0djE2LjVjMCAuMjc2LjIyNC41LjUuNWgxM2MuMjc2IDAgLjUtLjIyNC41LS41di0xNi41em0tOSA0YzAtLjU1Mi0uNDQ4LTEtMS0xcy0xIC40NDgtMSAxdjljMCAuNTUyLjQ0OCAxIDEgMXMxLS40NDggMS0xdi05em02IDBjMC0uNTUyLS40NDgtMS0xLTFzLTEgLjQ0OC0xIDF2OWMwIC41NTIuNDQ4IDEgMSAxczEtLjQ0OCAxLTF2LTl6bS0yLTdoLTR2MWg0di0xeiIvPg0KICAgIDwvc3ltYm9sPg0KPC9zdmc+#icon-trash_can\"</use>\r\n          </svg>`,\r\n};\r\n","'use strict';\r\n\r\nimport { icons } from '../helpers/icons';\r\n\r\nconst templateButtons = () => {\r\n  const { edit, save, remove } = icons;\r\n\r\n  return `<div>\r\n            <button class=\"task__edit\" type=\"button\" data-action=\"edit\">\r\n                ${edit}\r\n                ${save}\r\n            </button>\r\n            <button class=\"task__remove\" type=\"button\" data-action=\"remove\">\r\n                ${remove}\r\n            </button>\r\n        </div>`;\r\n};\r\n\r\nexport default templateButtons;\r\n","'use strict';\r\n\r\nimport templateCheckboxAndDate from './templateCheckboxAndDate';\r\nimport templateButtons from './templateButtons';\r\n\r\nconst templateToDo = task => {\r\n  const { id, date, describtion, isChecked } = task;\r\n\r\n  const checkboxAndDate = templateCheckboxAndDate(date, isChecked);\r\n  const buttons = templateButtons();\r\n\r\n  const classChecked = isChecked ? 'task__description--checked' : '';\r\n\r\n  return `<li class=\"todo-list__item\" id=${id}>\r\n            <div class=\"task__control\">\r\n                ${checkboxAndDate}\r\n                ${buttons}\r\n            </div>\r\n            <p class=\"task__description ${classChecked}\">${describtion}</p>\r\n        </li>`;\r\n};\r\n\r\nexport default templateToDo;\r\n","'use strict';\r\n\r\nimport { refs } from './helpers/refs';\r\nimport { TO_DO_PLACEHOLDER } from './helpers/config';\r\n\r\nimport controller from './controller';\r\n\r\nimport { currentToDo, iconsToggle } from './services';\r\n\r\nimport templateToDo from './templates/templateToDo';\r\n\r\nconst view = {\r\n  renderStatement(hide) {\r\n    if (hide) {\r\n      refs.statement.classList.add('hidden');\r\n    } else {\r\n      refs.statement.classList.remove('hidden');\r\n    }\r\n  },\r\n\r\n  renderToDoList(list) {\r\n    refs.todoList.innerHTML = list.textContent;\r\n  },\r\n\r\n  renderCounters() {\r\n    const { scopeCounter, activeCounter, successfulCounter } = refs;\r\n\r\n    const { scope, successful, active } = controller.calcCounters();\r\n\r\n    scopeCounter.textContent = scope;\r\n    successfulCounter.textContent = successful;\r\n    activeCounter.textContent = active;\r\n  },\r\n\r\n  renderTask(newTask) {\r\n    refs.todoList.insertAdjacentHTML('afterbegin', templateToDo(newTask));\r\n  },\r\n\r\n  removeToDo(refToDo) {\r\n    refToDo.remove();\r\n  },\r\n\r\n  onChecked(description) {\r\n    description.classList.toggle('task__description--checked');\r\n  },\r\n\r\n  editToDo() {\r\n    const { buttonEdit, iconEdit, iconSave, description } = currentToDo.getRefs();\r\n\r\n    description.setAttribute('contenteditable', 'true');\r\n\r\n    const toDoText = description.textContent;\r\n\r\n    if (toDoText === TO_DO_PLACEHOLDER) {\r\n      description.textContent = '';\r\n    }\r\n\r\n    description.focus();\r\n    description.onfocus = () => true;\r\n\r\n    iconsToggle(iconEdit, iconSave);\r\n\r\n    buttonEdit.dataset.action = 'save';\r\n  },\r\n\r\n  saveToDo() {\r\n    const { buttonEdit, iconEdit, iconSave, description } = currentToDo.getRefs();\r\n\r\n    description.setAttribute('contenteditable', 'false');\r\n\r\n    description.onfocus = null;\r\n\r\n    iconsToggle(iconSave, iconEdit);\r\n\r\n    buttonEdit.dataset.action = 'edit';\r\n  },\r\n};\r\n\r\nexport default view;\r\n","'use strict';\r\n\r\nimport { MIN_DESCRIPTION, MAX_DESCRIPTION, LONG_WORD } from '../helpers/config';\r\n\r\nconst descriptionValidator = newDescription => {\r\n  if (newDescription.length < MIN_DESCRIPTION || newDescription.length > MAX_DESCRIPTION) {\r\n    alert(`The description must be between ${MIN_DESCRIPTION} and ${MAX_DESCRIPTION} symbols`);\r\n    return false;\r\n  }\r\n\r\n  const words = newDescription.split(' ');\r\n  const tooLongWord = words.some(word => word.length > LONG_WORD);\r\n\r\n  if (tooLongWord) {\r\n    alert(`The maximum word length must be no more than ${LONG_WORD} symbols`);\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nexport default descriptionValidator;\r\n","'use strict';\r\n\r\nimport controller from '../../controller';\r\nimport model from '../../model';\r\nimport view from '../../view';\r\n\r\nimport { currentToDo } from '../../services';\r\n\r\nimport descriptionValidator from '../../validators/descriptionValidator';\r\n\r\nconst taskButtonsOperations = {\r\n  removeTask: () => {\r\n    const id = currentToDo.getId();\r\n    const toDo = currentToDo.getToDo();\r\n\r\n    model.removeTask(id);\r\n\r\n    view.removeToDo(toDo);\r\n\r\n    view.renderCounters();\r\n\r\n    controller.renderStatement();\r\n  },\r\n\r\n  editTaskDescription: () => {\r\n    view.editToDo();\r\n  },\r\n\r\n  saveTaskDescription: () => {\r\n    const id = currentToDo.getId();\r\n    const description = currentToDo.getDescription();\r\n\r\n    const newDescription = description.textContent;\r\n\r\n    const isValid = descriptionValidator(newDescription);\r\n\r\n    if (!isValid) {\r\n      return;\r\n    }\r\n\r\n    model.updateDescription(id, newDescription);\r\n\r\n    view.saveToDo();\r\n  },\r\n};\r\n\r\nexport default taskButtonsOperations;\r\n","'use strict';\r\n\r\nimport { taskButtonsOperations } from './';\r\n\r\nconst taskButtonsReducer = action => {\r\n  const { removeTask, editTaskDescription, saveTaskDescription } = taskButtonsOperations;\r\n\r\n  switch (action) {\r\n    case 'remove':\r\n      removeTask();\r\n      break;\r\n\r\n    case 'edit':\r\n      editTaskDescription();\r\n      break;\r\n\r\n    case 'save':\r\n      saveTaskDescription();\r\n      break;\r\n  }\r\n};\r\n\r\nexport default taskButtonsReducer;\r\n","'use strict';\r\n\r\nimport { currentToDo, getRefCurrentToDo } from './';\r\n\r\nimport { getButtonAction, taskButtonsReducer } from '../handlers/taskButtons';\r\n\r\nconst onCurrentToDo = target => {\r\n  const id = currentToDo.getId();\r\n\r\n  const toDo = getRefCurrentToDo(target);\r\n\r\n  if (!toDo) {\r\n    return;\r\n  }\r\n\r\n  if (parseInt(toDo.id) === id) {\r\n    return true;\r\n  }\r\n};\r\n\r\nconst onSaveButton = target => {\r\n  const action = getButtonAction(target);\r\n\r\n  if (!action) {\r\n    return;\r\n  }\r\n\r\n  if (action === 'save') {\r\n    return action;\r\n  }\r\n};\r\n\r\nconst isNotSaved = target => {\r\n  const description = currentToDo.getDescription();\r\n\r\n  if (currentToDo.isEmpty()) {\r\n    return;\r\n  }\r\n\r\n  if (!description.onfocus) {\r\n    return;\r\n  }\r\n\r\n  if (target.tagName === 'INPUT') {\r\n    target.checked = !target.checked;\r\n  }\r\n\r\n  if (onCurrentToDo(target)) {\r\n    const action = onSaveButton(target);\r\n\r\n    if (action) {\r\n      taskButtonsReducer(action);\r\n      return true;\r\n    }\r\n\r\n    if (description === target) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  alert('You have an unsaved task. Click save, please.');\r\n  return true;\r\n};\r\n\r\nexport default isNotSaved;\r\n","'use strict';\r\n\r\nconst localStorage = {\r\n  getTasks() {\r\n    try {\r\n      return JSON.parse(window.localStorage.getItem('tasks'));\r\n    } catch (error) {\r\n      alert(\"Your browser don't support Local Storage!\");\r\n    }\r\n  },\r\n\r\n  saveTasks(tasks) {\r\n    window.localStorage.setItem('tasks', JSON.stringify(tasks));\r\n  },\r\n};\r\n\r\nexport default localStorage;\r\n","'use strict';\r\n\r\nimport { localStorage } from './services';\r\n\r\nconst model = {\r\n  tasks: localStorage.getTasks() || [],\r\n\r\n  getTasks() {\r\n    return this.tasks;\r\n  },\r\n\r\n  addTask(task) {\r\n    this.tasks = [...this.tasks, task];\r\n\r\n    localStorage.saveTasks(this.tasks);\r\n  },\r\n\r\n  removeTask(id) {\r\n    this.tasks = this.tasks.filter(task => task.id !== id);\r\n\r\n    localStorage.saveTasks(this.tasks);\r\n  },\r\n\r\n  updateChecked(id) {\r\n    this.tasks = this.tasks.map(task => {\r\n      if (task.id === id) {\r\n        task.isChecked = !task.isChecked;\r\n      }\r\n      return task;\r\n    });\r\n\r\n    localStorage.saveTasks(this.tasks);\r\n  },\r\n\r\n  updateDescription(id, newDescription) {\r\n    this.tasks = this.tasks.map(task => {\r\n      if (task.id === id) {\r\n        task.describtion = newDescription;\r\n      }\r\n      return task;\r\n    });\r\n\r\n    localStorage.saveTasks(this.tasks);\r\n  },\r\n};\r\n\r\nexport default model;\r\n","'use strict';\r\n\r\nimport model from '../model';\r\nimport view from '../view';\r\n\r\nimport { currentToDo } from '../services';\r\n\r\nconst checkboxClickHandler = target => {\r\n  if (target.tagName !== 'INPUT') {\r\n    return;\r\n  }\r\n\r\n  const id = currentToDo.getId();\r\n  const description = currentToDo.getDescription();\r\n\r\n  model.updateChecked(id);\r\n\r\n  view.onChecked(description);\r\n\r\n  view.renderCounters();\r\n};\r\n\r\nexport default checkboxClickHandler;\r\n","'use strict';\r\n\r\nimport { getButtonAction, taskButtonsReducer } from './taskButtons';\r\n\r\nconst taskButtonsClickHandler = target => {\r\n  const action = getButtonAction(target);\r\n\r\n  taskButtonsReducer(action);\r\n};\r\n\r\nexport default taskButtonsClickHandler;\r\n","'use strict';\r\n\r\nimport model from './model';\r\nimport view from './view';\r\n\r\nimport { createTask, currentToDo, isNotSaved } from './services';\r\n\r\nimport { taskButtonsClickHandler, checkboxClickHandler } from './handlers';\r\n\r\nimport templateToDo from './templates/templateToDo';\r\n\r\nconst controller = {\r\n  renderStatement() {\r\n    const tasks = model.getTasks();\r\n\r\n    if (tasks.length <= 1) {\r\n      const hideStatement = Boolean(tasks.length);\r\n\r\n      view.renderStatement(hideStatement);\r\n    }\r\n  },\r\n\r\n  renderToDoList() {\r\n    const tasks = model.getTasks();\r\n\r\n    const list = new DocumentFragment();\r\n\r\n    tasks.map(task => {\r\n      list.prepend(templateToDo(task));\r\n    });\r\n\r\n    view.renderToDoList(list);\r\n\r\n    view.renderCounters();\r\n  },\r\n\r\n  addTask() {\r\n    const tasks = model.getTasks();\r\n\r\n    const newTask = createTask(tasks);\r\n\r\n    model.addTask(newTask);\r\n\r\n    view.renderTask(newTask);\r\n\r\n    view.renderCounters();\r\n\r\n    controller.renderStatement();\r\n  },\r\n\r\n  onClickToDoList(target) {\r\n    if (isNotSaved(target)) {\r\n      return;\r\n    }\r\n\r\n    currentToDo.setIdAndRefs(target);\r\n\r\n    if (currentToDo.isEmpty()) {\r\n      return;\r\n    }\r\n\r\n    checkboxClickHandler(target);\r\n\r\n    taskButtonsClickHandler(target);\r\n  },\r\n\r\n  calcCounters() {\r\n    const tasks = model.getTasks();\r\n\r\n    const scope = tasks.length;\r\n    const successful = tasks.filter(task => task.isChecked).length;\r\n    const active = scope - successful;\r\n\r\n    return { scope, successful, active };\r\n  },\r\n};\r\n\r\nexport default controller;\r\n","'use strict';\r\n\r\nimport { refs } from './js/helpers/refs';\r\n\r\nimport controller from './js/controller';\r\n\r\nimport './sass/main.scss';\r\n\r\nconst { addButtonTop, addButton, todoList } = refs;\r\nconst { renderStatement, renderToDoList, addTask, onClickToDoList } = controller;\r\n\r\nrenderStatement();\r\nrenderToDoList();\r\n\r\naddButtonTop.addEventListener('click', addTask);\r\naddButton.addEventListener('click', addTask);\r\n\r\ntodoList.addEventListener('click', ({ target }) => onClickToDoList(target));\r\n"],"sourceRoot":""}